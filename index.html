<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•˜ì´íƒ‘ë¶€ë™ì‚° í†µí•© ê³„ì‚°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 20px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .tab-container {
            background: white;
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background: none;
            font-size: 1em;
            color: #666;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active {
            background: white;
            color: #667eea;
            font-weight: bold;
            border-bottom: 3px solid #667eea;
        }

        .calculator {
            display: none;
            padding: 40px;
            background: white;
        }

        .calculator.active {
            display: block;
        }

        .calculator h2 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.8em;
        }

        .calculator p {
            color: #666;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .input-group small {
            display: block;
            margin-top: 5px;
            color: #999;
            font-size: 0.9em;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin: 30px 0;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e9ecef;
            color: #666;
        }

        .btn-secondary:hover {
            background: #dee2e6;
        }

        .result {
            display: none;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }

        .result.show {
            display: block;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            margin-bottom: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        .result-label {
            color: #666;
            font-weight: 500;
        }

        .result-value {
            color: #667eea;
            font-weight: bold;
            font-size: 1.2em;
        }

        .highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.5em;
        }

        .highlight .result-label,
        .highlight .result-value {
            color: white !important;
        }

        .notice {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
            color: #856404;
        }

        .notice strong {
            display: block;
            margin-bottom: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid #dee2e6;
        }

        th {
            background: #f8f9fa;
            font-weight: bold;
            color: #333;
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
            opacity: 0.9;
        }

        footer a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }

        .toggle-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        .loan-section {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-top: 15px;
            border: 2px solid #667eea;
        }

        .loan-section.show {
            display: block;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                flex-basis: 33.33%;
                padding: 15px 10px;
                font-size: 0.85em;
            }

            .calculator {
                padding: 20px;
            }

            .result-item {
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š í•˜ì´íƒ‘ë¶€ë™ì‚° í†µí•© ê³„ì‚°ê¸°</h1>
            <p class="subtitle">ìƒê°€ íˆ¬ìë¶€í„° ì„ëŒ€ë£Œ, ì·¨ë“ì„¸, ì¤‘ê°œìˆ˜ìˆ˜ë£Œê¹Œì§€ í•œ ë²ˆì— ê³„ì‚°í•˜ì„¸ìš”</p>
        </header>

        <div class="tab-container">
            <div class="tabs">
                <button class="tab active" onclick="switchTab(0)">ğŸ“ˆ ìƒê°€ ìˆ˜ìµë¥ </button>
                <button class="tab" onclick="switchTab(1)">ğŸ“Š ì„ëŒ€ë£Œ ì¸ìƒ</button>
                <button class="tab" onclick="switchTab(2)">ğŸ’° ì·¨ë“ì„¸</button>
                <button class="tab" onclick="switchTab(3)">ğŸ¤ ì¤‘ê°œìˆ˜ìˆ˜ë£Œ</button>
                <button class="tab" onclick="switchTab(4)">ğŸ“‹ ì ì • ì›”ì„¸</button>
                <button class="tab" onclick="switchTab(5)">ğŸ¢ ì ì • ë§¤ë§¤ê°€</button>
            </div>

            <!-- ìƒê°€ ìˆ˜ìµë¥  ê³„ì‚°ê¸° -->
            <div class="calculator active" id="calc-0">
                <h2>ìƒê°€ ìˆ˜ìµë¥  ê³„ì‚°ê¸°</h2>
                <p>ì •í™•í•œ íˆ¬ì ë¶„ì„ìœ¼ë¡œ ì„±ê³µì ì¸ ìƒê°€ íˆ¬ìë¥¼ ì‹¤í˜„í•˜ì„¸ìš”</p>

                <div class="toggle-container">
                    <label for="includeLoad"><strong>ëŒ€ì¶œ í¬í•¨</strong></label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="includeLoan" onchange="toggleLoan()">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="input-group">
                    <label for="price">ë§¤ë§¤ê°€ (ë§Œì›)</label>
                    <input type="number" id="price" placeholder="ì˜ˆ: 30000">
                </div>

                <div class="input-group">
                    <label for="rent">ì›” ì„ëŒ€ë£Œ (ë§Œì›)</label>
                    <input type="number" id="rent" placeholder="ì˜ˆ: 150">
                </div>

                <div class="input-group">
                    <label for="deposit">ë³´ì¦ê¸ˆ (ë§Œì›)</label>
                    <input type="number" id="deposit" placeholder="ì˜ˆ: 5000">
                </div>

                <div class="loan-section" id="loanSection">
                    <div class="input-group">
                        <label for="loanAmount">ëŒ€ì¶œê¸ˆì•¡ (ë§Œì›)</label>
                        <input type="number" id="loanAmount" placeholder="ì˜ˆ: 20000">
                        <small>ì´ ë§¤ë§¤ê°€ ì¤‘ ëŒ€ì¶œë°›ëŠ” ê¸ˆì•¡</small>
                    </div>

                    <div class="input-group">
                        <label for="loanRate">ëŒ€ì¶œê¸ˆë¦¬ (%)</label>
                        <input type="number" id="loanRate" step="0.1" placeholder="ì˜ˆ: 4.5">
                        <small>ì—° ì´ììœ¨</small>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="calculateYield()">ê³„ì‚°í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="resetYield()">ì´ˆê¸°í™”</button>
                </div>

                <div class="result" id="yieldResult">
                    <div class="result-item">
                        <span class="result-label">ë§¤ë§¤ê°€</span>
                        <span class="result-value" id="salePriceDisplay">0ì›</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ì·¨ë“ì„¸ (4.6%)</span>
                        <span class="result-value" id="taxDisplay">0ì›</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ì—°ê°„ ì„ëŒ€ìˆ˜ìµ</span>
                        <span class="result-value" id="annualRent">0ì›</span>
                    </div>
                    <div class="result-item" id="loanInterestRow" style="display: none;">
                        <span class="result-label">ì—°ê°„ ëŒ€ì¶œì´ì</span>
                        <span class="result-value" id="annualLoanInterest">0ì›</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ì‹¤íˆ¬ìê¸ˆ (ë³´ì¦ê¸ˆ ì œì™¸)</span>
                        <span class="result-value" id="actualInvestment">0ì›</span>
                    </div>
                    <div class="result-item highlight">
                        <span class="result-label">ì‹¤ì§ˆ ìˆ˜ìµë¥ </span>
                        <span class="result-value" id="yieldRate">0%</span>
                    </div>
                    <div class="notice">
                        <strong>ğŸ’¡ ìˆ˜ìµë¥  ê³„ì‚° ë°©ë²•</strong>
                        <p style="margin: 8px 0 5px 0;">
                            <strong>ëŒ€ì¶œ ë¯¸í¬í•¨:</strong> ì‹¤íˆ¬ìê¸ˆ = ë§¤ë§¤ê°€ - ë³´ì¦ê¸ˆ<br>
                            ìˆ˜ìµë¥  = (ì—°ê°„ ì„ëŒ€ë£Œ / ì‹¤íˆ¬ìê¸ˆ) Ã— 100
                        </p>
                        <p style="margin: 5px 0;">
                            <strong>ëŒ€ì¶œ í¬í•¨:</strong> ì‹¤íˆ¬ìê¸ˆ = ë§¤ë§¤ê°€ - ëŒ€ì¶œê¸ˆì•¡ - ë³´ì¦ê¸ˆ<br>
                            ìˆ˜ìµë¥  = ((ì—°ê°„ ì„ëŒ€ë£Œ - ì—°ê°„ ëŒ€ì¶œì´ì) / ì‹¤íˆ¬ìê¸ˆ) Ã— 100
                        </p>
                        <p style="margin: 10px 0 0 0; padding-top: 10px; border-top: 1px solid #ddd;">
                            â€» ì·¨ë“ì„¸ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í‘œì‹œë˜ë©° ìˆ˜ìµë¥  ê³„ì‚°ì—ëŠ” í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
                            â€» ì‹¤ì œ ìˆœìˆ˜ìµë¥ ì€ ê´€ë¦¬ë¹„, ì¬ì‚°ì„¸, ê³µì‹¤ë¥  ë“±ì„ ì¶”ê°€ë¡œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>

            <!-- ì„ëŒ€ë£Œ ì¸ìƒ ê³„ì‚°ê¸° -->
            <div class="calculator" id="calc-1">
                <h2>ì„ëŒ€ë£Œ ì¸ìƒ ê³„ì‚°ê¸°</h2>
                <p>ì„ëŒ€ì°¨ ê°±ì‹  ì‹œ 5% ìƒí•œì œ ë° ì „ì›”ì„¸ ì „í™˜ìœ¨ì„ ì ìš©í•œ ì¸ìƒ í•œë„ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤</p>

                <div class="input-group">
                    <label for="currentDeposit">í˜„ì¬ ë³´ì¦ê¸ˆ (ì›)</label>
                    <input type="number" id="currentDeposit" placeholder="í˜„ì¬ ê³„ì•½ ì¤‘ì¸ ë³´ì¦ê¸ˆ">
                </div>

                <div class="input-group">
                    <label for="currentRent">í˜„ì¬ ì›”ì„¸ (ì›)</label>
                    <input type="number" id="currentRent" placeholder="í˜„ì¬ ê³„ì•½ ì¤‘ì¸ ì›”ì„¸">
                </div>

                <div class="input-group">
                    <label for="newDeposit">ë³€ê²½ ë³´ì¦ê¸ˆ (ì›)</label>
                    <input type="number" id="newDeposit" placeholder="ë³€ê²½í•˜ë ¤ëŠ” ë³´ì¦ê¸ˆ">
                </div>

                <div class="input-group">
                    <label for="conversionRate">ì „ì›”ì„¸ì „í™˜ìœ¨ (%)</label>
                    <input type="number" id="conversionRate" value="5.0" step="0.1">
                    <small>í•œêµ­ì€í–‰ ê¸°ì¤€ (2024ë…„ ê¸°ì¤€ ì•½ 5.0%)</small>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="calculateRentIncrease()">ê³„ì‚°í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="resetRentIncrease()">ì´ˆê¸°í™”</button>
                </div>

                <div class="result" id="rentResult">
                    <table>
                        <tr>
                            <th>í•­ëª©</th>
                            <th>ë³€ê²½ ì „</th>
                            <th>ë³€ê²½ í›„</th>
                        </tr>
                        <tr>
                            <td>ì„ëŒ€ë³´ì¦ê¸ˆ(ì›)</td>
                            <td id="beforeDeposit">0</td>
                            <td id="afterDeposit">0</td>
                        </tr>
                        <tr>
                            <td>ì›” ì„ëŒ€ë£Œ(ì›)</td>
                            <td id="beforeRent">0</td>
                            <td id="afterRent">0</td>
                        </tr>
                        <tr>
                            <td>ì—° ì„ëŒ€ë£Œ(ì›)</td>
                            <td id="beforeAnnualRent">0</td>
                            <td id="afterAnnualRent">0</td>
                        </tr>
                    </table>
                    <div class="notice">
                        ì£¼íƒì„ëŒ€ì°¨ë³´í˜¸ë²• ì œ7ì¡°ì˜2ì— ë”°ë¼ ì„ëŒ€ë£Œ ì¦ì•¡ì€ 5%ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
                        ë³´ì¦ê¸ˆ ë³€ê²½ ì‹œ ì „ì›”ì„¸ì „í™˜ìœ¨ì„ ì ìš©í•˜ì—¬ ì›”ì„¸ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                </div>
            </div>

            <!-- ì·¨ë“ì„¸ ê³„ì‚°ê¸° -->
            <div class="calculator" id="calc-2">
                <h2>ì·¨ë“ì„¸ ê³„ì‚°ê¸°</h2>
                <p>ë¶€ë™ì‚° ìœ í˜•ë³„ ì·¨ë“ì„¸ì™€ ë¶€ê°€ì„¸ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤</p>

                <div class="input-group">
                    <label for="propertyType">ë¶€ë™ì‚° ìœ í˜•</label>
                    <select id="propertyType" onchange="updateTaxInfo()">
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="house1">ì£¼íƒ (1ì£¼íƒì)</option>
                        <option value="house2">ì£¼íƒ (2ì£¼íƒì)</option>
                        <option value="house3">ì£¼íƒ (3ì£¼íƒì)</option>
                        <option value="house4">ì£¼íƒ (4ì£¼íƒ ì´ìƒ)</option>
                        <option value="commercial">ì£¼íƒì™¸ (ìƒê°€/ì˜¤í”¼ìŠ¤í…”/í† ì§€)</option>
                    </select>
                    <small id="taxInfo">ìœ í˜•ì„ ì„ íƒí•˜ë©´ ì„¸ìœ¨ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤</small>
                </div>

                <div class="input-group">
                    <label for="acquisitionPrice">ì·¨ë“ê°€ì•¡ (ì›)</label>
                    <input type="number" id="acquisitionPrice" placeholder="ì‹¤ê±°ë˜ê°€ ê¸°ì¤€">
                </div>

                <div class="input-group" id="adjustedAreaGroup" style="display:none;">
                    <label for="adjustedArea">ì¡°ì •ëŒ€ìƒì§€ì—­ ì—¬ë¶€</label>
                    <select id="adjustedArea">
                        <option value="no">ì¼ë°˜ì§€ì—­</option>
                        <option value="yes">ì¡°ì •ëŒ€ìƒì§€ì—­</option>
                    </select>
                    <small>ì£¼íƒì˜ ê²½ìš° ì§€ì—­ì— ë”°ë¼ ì„¸ìœ¨ ìƒì´</small>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="calculateAcquisitionTax()">ê³„ì‚°í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="resetAcquisitionTax()">ì´ˆê¸°í™”</button>
                </div>

                <div class="result" id="taxResult">
                    <div class="result-item">
                        <span class="result-label">ì·¨ë“ì„¸</span>
                        <span class="result-value" id="acquisitionTaxAmount">0ì›</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ì§€ë°©êµìœ¡ì„¸ (ì·¨ë“ì„¸ì˜ 10%)</span>
                        <span class="result-value" id="educationTax">0ì›</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ë†ì–´ì´ŒíŠ¹ë³„ì„¸</span>
                        <span class="result-value" id="ruralTax">0ì›</span>
                    </div>
                    <div class="result-item highlight">
                        <span class="result-label">ì´ ë‚©ë¶€ì„¸ì•¡</span>
                        <span class="result-value" id="totalTax">0ì›</span>
                    </div>
                    <div class="notice">
                        <strong>ğŸ’¡ ì£¼íƒ ì·¨ë“ì„¸ìœ¨ ì•ˆë‚´</strong>
                        <p style="margin: 8px 0 5px 0;">
                            <strong>1ì£¼íƒì:</strong><br>
                            â€¢ 6ì–µ ì´í•˜: 1%<br>
                            â€¢ 6ì–µ ì´ˆê³¼ 9ì–µ ì´í•˜: 1~3% (ëˆ„ì§„)<br>
                            â€¢ 9ì–µ ì´ˆê³¼: 3%
                        </p>
                        <p style="margin: 8px 0 5px 0;">
                            <strong>2ì£¼íƒì:</strong><br>
                            â€¢ ì¼ë°˜ì§€ì—­: 1~3% (1ì£¼íƒê³¼ ë™ì¼)<br>
                            â€¢ ì¡°ì •ëŒ€ìƒì§€ì—­: 8%
                        </p>
                        <p style="margin: 8px 0 5px 0;">
                            <strong>3ì£¼íƒì:</strong><br>
                            â€¢ ì¡°ì •ëŒ€ìƒì§€ì—­ ì™¸: 8%<br>
                            â€¢ ì¡°ì •ëŒ€ìƒì§€ì—­: 12%
                        </p>
                        <p style="margin: 8px 0 5px 0;">
                            <strong>4ì£¼íƒ ì´ìƒ:</strong><br>
                            â€¢ 12% (ì¡°ì •ì§€ì—­ ì—¬ë¶€ ë¬´ê´€)
                        </p>
                        <p style="margin: 8px 0 5px 0;">
                            <strong>ì£¼íƒì™¸(ìƒê°€/í† ì§€):</strong><br>
                            â€¢ ì·¨ë“ì„¸ 4% + ë†íŠ¹ì„¸ 0.8% + êµìœ¡ì„¸ 0.4% = 5.2%
                        </p>
                        <p style="margin: 10px 0 0 0; padding-top: 10px; border-top: 1px solid #ddd;">
                            â€» ë†ì–´ì´ŒíŠ¹ë³„ì„¸: ì£¼íƒ ì¤‘ê³¼ ì‹œ ì·¨ë“ì„¸ì˜ 60~100%, ì£¼íƒì™¸ 20%<br>
                            â€» ì§€ë°©êµìœ¡ì„¸: ì·¨ë“ì„¸ì˜ 10% (ëª¨ë“  ìœ í˜• ê³µí†µ)<br>
                            â€» ì‹¤ì œ ì„¸ì•¡ì€ ë©´ì , ë²•ì¸ ì—¬ë¶€ ë“±ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>

            <!-- ì¤‘ê°œìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸° -->
            <div class="calculator" id="calc-3">
                <h2>ì¤‘ê°œìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°</h2>
                <p>ë¶€ë™ì‚° ê±°ë˜ ìœ í˜•ë³„ ì¤‘ê°œë³´ìˆ˜ ìƒí•œìš”ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤</p>

                <div class="input-group">
                    <label for="brokeragePropertyType">ë¶€ë™ì‚° ìœ í˜•</label>
                    <select id="brokeragePropertyType" onchange="updateBrokerageInfo()">
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="house">ì£¼íƒ</option>
                        <option value="officetel">ì˜¤í”¼ìŠ¤í…”</option>
                        <option value="commercial">ìƒê°€Â·ì í¬</option>
                        <option value="land">í† ì§€</option>
                    </select>
                    <small id="brokerageInfo">ìœ í˜•ë³„ ìƒí•œìš”ìœ¨ì´ ë‹¤ë¦…ë‹ˆë‹¤</small>
                </div>

                <div class="input-group">
                    <label for="transactionType">ê±°ë˜ ìœ í˜•</label>
                    <select id="transactionType" onchange="toggleRentFields()">
                        <option value="sale">ë§¤ë§¤</option>
                        <option value="rent">ì„ëŒ€ì°¨</option>
                    </select>
                    <small>ë§¤ë§¤/ì„ëŒ€ì°¨ì— ë”°ë¼ ìš”ìœ¨ ìƒì´</small>
                </div>

                <div class="input-group" id="saleAmountGroup">
                    <label for="transactionAmount">ê±°ë˜ê¸ˆì•¡ (ì›)</label>
                    <input type="number" id="transactionAmount" placeholder="ë§¤ë§¤ê°€ ì…ë ¥">
                </div>

                <div class="input-group" id="rentDepositGroup" style="display:none;">
                    <label for="rentDeposit">ë³´ì¦ê¸ˆ (ì›)</label>
                    <input type="number" id="rentDeposit" placeholder="ì„ëŒ€ì°¨ ë³´ì¦ê¸ˆ">
                </div>

                <div class="input-group" id="monthlyRentGroup" style="display:none;">
                    <label for="monthlyRent">ì›”ì„¸ (ì›)</label>
                    <input type="number" id="monthlyRent" placeholder="ì›”ì„¸">
                    <small>ì›”ì„¸ Ã— 100ìœ¼ë¡œ í™˜ì‚°í•˜ì—¬ ê³„ì‚°ë©ë‹ˆë‹¤</small>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="calculateBrokerage()">ê³„ì‚°í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="resetBrokerage()">ì´ˆê¸°í™”</button>
                </div>

                <div class="result" id="brokerageResult">
                    <div class="result-item">
                        <span class="result-label">í™˜ì‚° ê±°ë˜ê¸ˆì•¡</span>
                        <span class="result-value" id="convertedAmount">0ì›</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ì ìš© ìš”ìœ¨</span>
                        <span class="result-value" id="appliedRate">0%</span>
                    </div>
                    <div class="result-item highlight">
                        <span class="result-label">ì¤‘ê°œë³´ìˆ˜ ìƒí•œì•¡</span>
                        <span class="result-value" id="brokerageFee">0ì›</span>
                    </div>
<div class="notice">
    <strong>ğŸ’¡ ì¤‘ê°œìˆ˜ìˆ˜ë£Œ ê³„ì‚° ë°©ë²•</strong>
    <p style="margin: 8px 0 5px 0;">
        <strong>ë§¤ë§¤:</strong> ê±°ë˜ê¸ˆì•¡ Ã— ìš”ìœ¨
    </p>
    <p style="margin: 5px 0;">
        <strong>ì„ëŒ€ì°¨:</strong> (ë³´ì¦ê¸ˆ + ì›”ì„¸ Ã— 100) Ã— ìš”ìœ¨<br>
        <small style="color: #666;">â€» ì›”ì„¸ëŠ” 100ë°°ë¡œ í™˜ì‚°í•˜ì—¬ ë³´ì¦ê¸ˆì— í•©ì‚°í•©ë‹ˆë‹¤</small>
    </p>
    <p style="margin: 10px 0 0 0; padding-top: 10px; border-top: 1px solid #ddd;">
        <strong>ì£¼íƒ/ì˜¤í”¼ìŠ¤í…” ê±°ë˜ê¸ˆì•¡ë³„ ìƒí•œìš”ìœ¨:</strong><br>
        â€¢ 5ì²œë§Œì› ë¯¸ë§Œ: 0.6%<br>
        â€¢ 5ì²œë§Œì› ì´ìƒ ~ 2ì–µì› ë¯¸ë§Œ: 0.5%<br>
        â€¢ 2ì–µì› ì´ìƒ ~ 6ì–µì› ë¯¸ë§Œ: 0.4%<br>
        â€¢ 6ì–µì› ì´ìƒ ~ 9ì–µì› ë¯¸ë§Œ: 0.5%<br>
        â€¢ 9ì–µì› ì´ìƒ ~ 12ì–µì› ë¯¸ë§Œ: 0.6%<br>
        â€¢ 12ì–µì› ì´ìƒ ~ 15ì–µì› ë¯¸ë§Œ: 0.7%<br>
        â€¢ 15ì–µì› ì´ìƒ: 0.9%
    </p>
    <p style="margin: 10px 0 0 0; padding-top: 10px; border-top: 1px solid #ddd;">
        <strong>ìƒê°€Â·ì í¬/í† ì§€:</strong><br>
        â€¢ ê±°ë˜ê¸ˆì•¡ì˜ 0.9% í•œë„ ë‚´ì—ì„œ í˜‘ì˜
    </p>
    <p style="margin: 10px 0 0 0; padding-top: 10px; border-top: 1px solid #ddd;">
        â€» ìƒí•œìš”ìœ¨ì€ ìŒë°© í•©ì‚° ê¸°ì¤€ì…ë‹ˆë‹¤. ì‹¤ì œ ì¤‘ê°œë³´ìˆ˜ëŠ” ê±°ë˜ ë‹¹ì‚¬ì ê°„ í˜‘ì˜ë¡œ ì¡°ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.
    </p>
</div>
                </div>
            </div>

            <!-- ì ì • ì›”ì„¸ ê³„ì‚°ê¸° -->
            <div class="calculator" id="calc-4">
                <h2>ì ì • ì›”ì„¸</h2>
                <p>ë§¤ë§¤ê°€, ë³´ì¦ê¸ˆ, ìˆ˜ìµë¥  ê¸°ë°˜ ì ì • ì›”ì„¸ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</p>

                <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 25px;">
                    <strong style="color: #1976d2;">ğŸ“Œ ê³„ì‚° ê³µì‹</strong>
                    <p style="color: #1565c0; margin-top: 8px; margin-bottom: 0;">ì ì • ì›”ì„¸ = ìˆ˜ìµë¥  Ã— (ë§¤ë§¤ê°€ - ë³´ì¦ê¸ˆ) / 12</p>
                </div>

                <div class="input-group">
                    <label for="propertyPrice">ë§¤ë§¤ê°€ (ì›)</label>
                    <input type="number" id="propertyPrice" placeholder="ì˜ˆ: 300000000">
                </div>

                <div class="input-group">
                    <label for="rentDeposit2">ë³´ì¦ê¸ˆ (ì›)</label>
                    <input type="number" id="rentDeposit2" placeholder="ì˜ˆ: 50000000">
                </div>

                <div class="input-group">
                    <label for="targetYield">ìˆ˜ìµë¥  (%)</label>
                    <input type="number" id="targetYield" value="5" step="0.1">
                </div>

                <div class="input-group">
                    <label for="yieldType">ì¢…ë³„ ìˆ˜ìµë¥  ì ìš©</label>
                    <select id="yieldType" onchange="updateYieldRate()">
                        <option value="custom">ì§ì ‘ ì…ë ¥</option>
                        <option value="type1">1ì¢… (5%)</option>
                        <option value="type2">2ì¢… (6%)</option>
                        <option value="type3">3ì¢… (7%)</option>
                    </select>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="calculateProperRent()">ê³„ì‚°í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="resetProperRent()">ì´ˆê¸°í™”</button>
                </div>

                <div class="result" id="properRentResult">
                    <div class="result-item highlight">
                        <span class="result-label">ì ì • ì›”ì„¸</span>
                        <span class="result-value" id="properRent">0ì›</span>
                    </div>
                </div>
            </div>

            <!-- ì ì • ë§¤ë§¤ê°€ ê³„ì‚°ê¸° -->
            <div class="calculator" id="calc-5">
                <h2>ì ì • ë§¤ë§¤ê°€</h2>
                <p>ì„ëŒ€ë³´ì¦ê¸ˆ, ì›”ì„¸, ìˆ˜ìµë¥  ê¸°ë°˜ ì ì • ë§¤ë§¤ê°€ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ì›ëŒ€ë¡œ ê¸°ë°˜ ì ì •í•œ ë§¤ë§¤ê°€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

                <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 25px;">
                    <strong style="color: #1976d2;">ğŸ“Œ ê³„ì‚° ê³µì‹</strong>
                    <p style="color: #1565c0; margin-top: 8px; margin-bottom: 0;">ì ì • ë§¤ë§¤ê°€ = (ì—°ìˆ˜ìµ / ìˆ˜ìµë¥ ) + ë³´ì¦ê¸ˆ</p>
                </div>

                <div class="input-group">
                    <label for="saleDeposit">ë³´ì¦ê¸ˆ (ì›)</label>
                    <input type="number" id="saleDeposit" placeholder="ì˜ˆ: 50000000">
                </div>

                <div class="input-group">
                    <label for="saleMonthlyRent">ì›”ì„¸ (ì›)</label>
                    <input type="number" id="saleMonthlyRent" placeholder="ì˜ˆ: 1500000">
                </div>

                <div class="input-group">
                    <label for="saleYield">ìˆ˜ìµë¥  (%)</label>
                    <input type="number" id="saleYield" value="5" step="0.1">
                </div>

                <div class="input-group">
                    <label for="saleYieldType">ì¢…ë³„ ìˆ˜ìµë¥  ì ìš©</label>
                    <select id="saleYieldType" onchange="updateSaleYieldRate()">
                        <option value="custom">ì§ì ‘ ì…ë ¥</option>
                        <option value="type1">1ì¢… (5%)</option>
                        <option value="type2">2ì¢… (6%)</option>
                        <option value="type3">3ì¢… (7%)</option>
                    </select>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="calculateProperPrice()">ê³„ì‚°í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="resetProperPrice()">ì´ˆê¸°í™”</button>
                </div>

                <div class="result" id="properPriceResult">
                    <div class="result-item highlight">
                        <span class="result-label">ì ì • ë§¤ë§¤ê°€</span>
                        <span class="result-value" id="properPrice">0ì›</span>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>í•˜ì´íƒ‘ë¶€ë™ì‚°</strong> Â· <a href="tel:031-949-8969">031-949-8969</a></p>
        </footer>
    </div>

    <script>
        function formatNumber(input) {
            let value = input.value.replace(/,/g, '');
            if (value === '') return;
            value = value.replace(/[^\d]/g, '');
            input.value = Number(value).toLocaleString();
        }

        function getNumericValue(input) {
            return parseFloat(input.value.replace(/,/g, '')) || 0;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const numberInputs = document.querySelectorAll('input[type="number"]');
            numberInputs.forEach(input => {
                input.addEventListener('input', function() {
                    formatNumber(this);
                });
                input.type = 'text';
                input.inputMode = 'numeric';
                input.pattern = '[0-9,]*';
            });
        });

        function switchTab(index) {
            const tabs = document.querySelectorAll('.tab');
            const calculators = document.querySelectorAll('.calculator');
            tabs.forEach(tab => tab.classList.remove('active'));
            calculators.forEach(calc => calc.classList.remove('active'));
            tabs[index].classList.add('active');
            calculators[index].classList.add('active');
        }

        function toggleLoan() {
            const loanSection = document.getElementById('loanSection');
            const includeLoan = document.getElementById('includeLoan').checked;
            if (includeLoan) {
                loanSection.classList.add('show');
            } else {
                loanSection.classList.remove('show');
                document.getElementById('loanAmount').value = '';
                document.getElementById('loanRate').value = '';
            }
        }

        function calculateYield() {
            const price = getNumericValue(document.getElementById('price'));
            const rent = getNumericValue(document.getElementById('rent'));
            const deposit = getNumericValue(document.getElementById('deposit'));
            const includeLoan = document.getElementById('includeLoan').checked;
            const loanAmount = getNumericValue(document.getElementById('loanAmount'));
            const loanRate = getNumericValue(document.getElementById('loanRate'));

            if (price === 0 || rent === 0) {
                alert('ë§¤ë§¤ê°€ì™€ ì›” ì„ëŒ€ë£Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const tax = price * 0.046;
            const annualRent = rent * 12 * 10000;
            
            let actualInvestment;
            if (includeLoan && loanAmount > 0) {
                actualInvestment = (price - loanAmount - deposit) * 10000;
            } else {
                actualInvestment = (price - deposit) * 10000;
            }

            let annualLoanInterest = 0;
            if (includeLoan && loanAmount > 0 && loanRate > 0) {
                annualLoanInterest = loanAmount * 10000 * (loanRate / 100);
            }

            const netIncome = annualRent - annualLoanInterest;
            const yieldRate = actualInvestment > 0 ? (netIncome / actualInvestment * 100) : 0;

            document.getElementById('salePriceDisplay').textContent = (price * 10000).toLocaleString() + 'ì›';
            document.getElementById('taxDisplay').textContent = (tax * 10000).toLocaleString() + 'ì›';
            document.getElementById('annualRent').textContent = annualRent.toLocaleString() + 'ì›';
            
            const loanInterestRow = document.getElementById('loanInterestRow');
            if (includeLoan && loanAmount > 0) {
                loanInterestRow.style.display = 'flex';
                document.getElementById('annualLoanInterest').textContent = annualLoanInterest.toLocaleString() + 'ì›';
            } else {
                loanInterestRow.style.display = 'none';
            }
            
            document.getElementById('actualInvestment').textContent = actualInvestment.toLocaleString() + 'ì›';
            document.getElementById('yieldRate').textContent = yieldRate.toFixed(2) + '%';
            document.getElementById('yieldResult').classList.add('show');
        }

        function resetYield() {
            document.getElementById('price').value = '';
            document.getElementById('rent').value = '';
            document.getElementById('deposit').value = '';
            document.getElementById('loanAmount').value = '';
            document.getElementById('loanRate').value = '';
            document.getElementById('includeLoan').checked = false;
            document.getElementById('loanSection').classList.remove('show');
            document.getElementById('yieldResult').classList.remove('show');
        }

        function calculateRentIncrease() {
            const currentDeposit = getNumericValue(document.getElementById('currentDeposit'));
            const currentRent = getNumericValue(document.getElementById('currentRent'));
            const newDeposit = getNumericValue(document.getElementById('newDeposit'));
            const conversionRate = getNumericValue(document.getElementById('conversionRate'));

            if (currentDeposit === 0 || currentRent === 0) {
                alert('í˜„ì¬ ë³´ì¦ê¸ˆê³¼ ì›”ì„¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const depositDiff = newDeposit - currentDeposit;
            const rentAdjustment = (depositDiff * (conversionRate / 100)) / 12;
            const currentAnnualRent = currentRent * 12;
            const maxIncrease = currentAnnualRent * 0.05;
            let newRent = currentRent - rentAdjustment;
            const newAnnualRent = newRent * 12;
            
            if (newAnnualRent > currentAnnualRent + maxIncrease) {
                newRent = (currentAnnualRent + maxIncrease) / 12;
            }

            document.getElementById('beforeDeposit').textContent = currentDeposit.toLocaleString();
            document.getElementById('afterDeposit').textContent = newDeposit.toLocaleString();
            document.getElementById('beforeRent').textContent = currentRent.toLocaleString();
            document.getElementById('afterRent').textContent = Math.round(newRent).toLocaleString();
            document.getElementById('beforeAnnualRent').textContent = currentAnnualRent.toLocaleString();
            document.getElementById('afterAnnualRent').textContent = Math.round(newRent * 12).toLocaleString();
            document.getElementById('rentResult').classList.add('show');
        }

        function resetRentIncrease() {
            document.getElementById('currentDeposit').value = '';
            document.getElementById('currentRent').value = '';
            document.getElementById('newDeposit').value = '';
            document.getElementById('conversionRate').value = '5.0';
            document.getElementById('rentResult').classList.remove('show');
        }

        function updateTaxInfo() {
            const propertyType = document.getElementById('propertyType').value;
            const taxInfo = document.getElementById('taxInfo');
            const adjustedAreaGroup = document.getElementById('adjustedAreaGroup');
            
            const taxRates = {
                'house1': '6ì–µ ì´í•˜: 1% / 6ì–µ~9ì–µ: 1~3% / 9ì–µ ì´ˆê³¼: 3%',
                'house2': 'ì¼ë°˜: 1~3% / ì¡°ì •ì§€ì—­: 8% ì¤‘ê³¼',
                'house3': 'ì¼ë°˜: 1~3% / ì¡°ì •ì§€ì—­: 12% ì¤‘ê³¼',
                'house4': 'ì¼ë°˜: 1~3% / ì¡°ì •ì§€ì—­: 12% ì¤‘ê³¼',
                'commercial': 'ì·¨ë“ì„¸ 4% + ë†íŠ¹ì„¸ 0.2% + êµìœ¡ì„¸ 0.4% = 4.6%'
            };
            
            taxInfo.textContent = taxRates[propertyType] || 'ìœ í˜•ì„ ì„ íƒí•˜ë©´ ì„¸ìœ¨ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤';
            
            if (propertyType && propertyType.startsWith('house')) {
                adjustedAreaGroup.style.display = 'block';
            } else {
                adjustedAreaGroup.style.display = 'none';
            }
        }

        function calculateAcquisitionTax() {
            const propertyType = document.getElementById('propertyType').value;
            const acquisitionPrice = getNumericValue(document.getElementById('acquisitionPrice'));
            const adjustedArea = document.getElementById('adjustedArea').value;

            if (!propertyType || acquisitionPrice === 0) {
                alert('ë¶€ë™ì‚° ìœ í˜•ê³¼ ì·¨ë“ê°€ì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            let acquisitionTax = 0;
            let educationTaxRate = 0.1;
            let ruralTaxRate = 0;
            
            if (propertyType === 'commercial') {
                acquisitionTax = acquisitionPrice * 0.04;
                ruralTaxRate = 0.2;
            }
            else if (propertyType === 'house1') {
                if (acquisitionPrice <= 600000000) {
                    acquisitionTax = acquisitionPrice * 0.01;
                } else if (acquisitionPrice <= 900000000) {
                    acquisitionTax = 6000000 + (acquisitionPrice - 600000000) * 0.0632;
                } else {
                    acquisitionTax = acquisitionPrice * 0.03;
                }
            }
            else if (propertyType === 'house2') {
                if (adjustedArea === 'yes') {
                    acquisitionTax = acquisitionPrice * 0.08;
                    ruralTaxRate = 0.6;
                } else {
                    if (acquisitionPrice <= 600000000) {
                        acquisitionTax = acquisitionPrice * 0.01;
                    } else if (acquisitionPrice <= 900000000) {
                        acquisitionTax = 6000000 + (acquisitionPrice - 600000000) * 0.0632;
                    } else {
                        acquisitionTax = acquisitionPrice * 0.03;
                    }
                }
            }
            else if (propertyType === 'house3') {
                if (adjustedArea === 'yes') {
                    acquisitionTax = acquisitionPrice * 0.12;
                    ruralTaxRate = 1.0;
                } else {
                    acquisitionTax = acquisitionPrice * 0.08;
                    ruralTaxRate = 0.6;
                }
            }
            else if (propertyType === 'house4') {
                acquisitionTax = acquisitionPrice * 0.12;
                ruralTaxRate = 1.0;
            }

            const educationTax = acquisitionTax * educationTaxRate;
            const ruralTax = acquisitionTax * ruralTaxRate;
            const totalTax = acquisitionTax + educationTax + ruralTax;

            document.getElementById('acquisitionTaxAmount').textContent = Math.round(acquisitionTax).toLocaleString() + 'ì›';
            document.getElementById('educationTax').textContent = Math.round(educationTax).toLocaleString() + 'ì›';
            document.getElementById('ruralTax').textContent = Math.round(ruralTax).toLocaleString() + 'ì›';
            document.getElementById('totalTax').textContent = Math.round(totalTax).toLocaleString() + 'ì›';
            document.getElementById('taxResult').classList.add('show');
        }

        function resetAcquisitionTax() {
            document.getElementById('propertyType').value = '';
            document.getElementById('acquisitionPrice').value = '';
            document.getElementById('adjustedArea').value = 'no';
            document.getElementById('adjustedAreaGroup').style.display = 'none';
            document.getElementById('taxInfo').textContent = 'ìœ í˜•ì„ ì„ íƒí•˜ë©´ ì„¸ìœ¨ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤';
            document.getElementById('taxResult').classList.remove('show');
        }

        function updateBrokerageInfo() {
            const propertyType = document.getElementById('brokeragePropertyType').value;
            const brokerageInfo = document.getElementById('brokerageInfo');
            const brokerageRates = {
                'house': 'ê±°ë˜ê¸ˆì•¡ì— ë”°ë¼ 0.4~0.9%',
                'officetel': 'ê±°ë˜ê¸ˆì•¡ì— ë”°ë¼ 0.4~0.9%',
                'commercial': 'ê±°ë˜ê¸ˆì•¡ì— ë”°ë¼ 0.4~0.9%',
                'land': 'ê±°ë˜ê¸ˆì•¡ì— ë”°ë¼ 0.4~0.9%'
            };
            brokerageInfo.textContent = brokerageRates[propertyType] || 'ìœ í˜•ë³„ ìƒí•œìš”ìœ¨ì´ ë‹¤ë¦…ë‹ˆë‹¤';
        }

        function toggleRentFields() {
            const transactionType = document.getElementById('transactionType').value;
            const saleAmountGroup = document.getElementById('saleAmountGroup');
            const rentDepositGroup = document.getElementById('rentDepositGroup');
            const monthlyRentGroup = document.getElementById('monthlyRentGroup');
            
            if (transactionType === 'rent') {
                saleAmountGroup.style.display = 'none';
                rentDepositGroup.style.display = 'block';
                monthlyRentGroup.style.display = 'block';
            } else {
                saleAmountGroup.style.display = 'block';
                rentDepositGroup.style.display = 'none';
                monthlyRentGroup.style.display = 'none';
            }
        }

function calculateBrokerage() {
    const propertyType = document.getElementById('brokeragePropertyType').value;
    const transactionType = document.getElementById('transactionType').value;
    let transactionAmount = 0;

    if (!propertyType) {
        alert('ë¶€ë™ì‚° ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        return;
    }

    if (transactionType === 'rent') {
        const rentDeposit = getNumericValue(document.getElementById('rentDeposit'));
        const monthlyRent = getNumericValue(document.getElementById('monthlyRent'));
        if (rentDeposit === 0 && monthlyRent === 0) {
            alert('ë³´ì¦ê¸ˆ ë˜ëŠ” ì›”ì„¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
        transactionAmount = rentDeposit + (monthlyRent * 100);
    } else {
        transactionAmount = getNumericValue(document.getElementById('transactionAmount'));
        if (transactionAmount === 0) {
            alert('ê±°ë˜ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
    }

    let rate = 0;
    
    // ì£¼íƒ: ì„¸ë¶„í™”ëœ ìš”ìœ¨ ì ìš©
    if (propertyType === 'house') {
        if (transactionAmount < 50000000) {
            rate = 0.006; // 0.6%
        } else if (transactionAmount < 200000000) {
            rate = 0.005; // 0.5%
        } else if (transactionAmount < 600000000) {
            rate = 0.004; // 0.4%
        } else if (transactionAmount < 900000000) {
            rate = 0.005; // 0.5%
        } else if (transactionAmount < 1200000000) {
            rate = 0.006; // 0.6%
        } else if (transactionAmount < 1500000000) {
            rate = 0.007; // 0.7%
        } else {
            rate = 0.009; // 0.9%
        }
    }
    // ì˜¤í”¼ìŠ¤í…”: ì£¼íƒê³¼ ë™ì¼
    else if (propertyType === 'officetel') {
        if (transactionAmount < 50000000) {
            rate = 0.006;
        } else if (transactionAmount < 200000000) {
            rate = 0.005;
        } else if (transactionAmount < 600000000) {
            rate = 0.004;
        } else if (transactionAmount < 900000000) {
            rate = 0.005;
        } else if (transactionAmount < 1200000000) {
            rate = 0.006;
        } else if (transactionAmount < 1500000000) {
            rate = 0.007;
        } else {
            rate = 0.009;
        }
    }
    // ìƒê°€Â·ì í¬, í† ì§€: 0.9% í•œë„ ë‚´ í˜‘ì˜
    else {
        rate = 0.009; // 0.9% (ìƒí•œ)
    }

    const brokerageFee = transactionAmount * rate;

    document.getElementById('convertedAmount').textContent = Math.round(transactionAmount).toLocaleString() + 'ì›';
    document.getElementById('appliedRate').textContent = (rate * 100).toFixed(1) + '%';
    document.getElementById('brokerageFee').textContent = Math.round(brokerageFee).toLocaleString() + 'ì›';
    document.getElementById('brokerageResult').classList.add('show');
}

        function resetBrokerage() {
            document.getElementById('brokeragePropertyType').value = '';
            document.getElementById('transactionType').value = 'sale';
            document.getElementById('transactionAmount').value = '';
            document.getElementById('rentDeposit').value = '';
            document.getElementById('monthlyRent').value = '';
            document.getElementById('brokerageInfo').textContent = 'ìœ í˜•ë³„ ìƒí•œìš”ìœ¨ì´ ë‹¤ë¦…ë‹ˆë‹¤';
            document.getElementById('saleAmountGroup').style.display = 'block';
            document.getElementById('rentDepositGroup').style.display = 'none';
            document.getElementById('monthlyRentGroup').style.display = 'none';
            document.getElementById('brokerageResult').classList.remove('show');
        }

        function updateYieldRate() {
            const yieldType = document.getElementById('yieldType').value;
            const yieldInput = document.getElementById('targetYield');
            const yieldRates = { 'type1': 5, 'type2': 6, 'type3': 7 };
            if (yieldType !== 'custom') {
                yieldInput.value = yieldRates[yieldType];
                yieldInput.readOnly = true;
            } else {
                yieldInput.readOnly = false;
            }
        }

        function calculateProperRent() {
            const propertyPrice = getNumericValue(document.getElementById('propertyPrice'));
            const rentDeposit = getNumericValue(document.getElementById('rentDeposit2'));
            const targetYield = getNumericValue(document.getElementById('targetYield'));

            if (propertyPrice === 0 || targetYield === 0) {
                alert('ë§¤ë§¤ê°€ì™€ ìˆ˜ìµë¥ ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const properRent = (targetYield / 100) * (propertyPrice - rentDeposit) / 12;
            document.getElementById('properRent').textContent = Math.round(properRent).toLocaleString() + 'ì›';
            document.getElementById('properRentResult').classList.add('show');
        }

        function resetProperRent() {
            document.getElementById('propertyPrice').value = '';
            document.getElementById('rentDeposit2').value = '';
            document.getElementById('targetYield').value = '5';
            document.getElementById('yieldType').value = 'custom';
            document.getElementById('targetYield').readOnly = false;
            document.getElementById('properRentResult').classList.remove('show');
        }

        function updateSaleYieldRate() {
            const yieldType = document.getElementById('saleYieldType').value;
            const yieldInput = document.getElementById('saleYield');
            const yieldRates = { 'type1': 5, 'type2': 6, 'type3': 7 };
            if (yieldType !== 'custom') {
                yieldInput.value = yieldRates[yieldType];
                yieldInput.readOnly = true;
            } else {
                yieldInput.readOnly = false;
            }
        }

        function calculateProperPrice() {
            const saleDeposit = getNumericValue(document.getElementById('saleDeposit'));
            const saleMonthlyRent = getNumericValue(document.getElementById('saleMonthlyRent'));
            const saleYield = getNumericValue(document.getElementById('saleYield'));

            if (saleMonthlyRent === 0 || saleYield === 0) {
                alert('ì›”ì„¸ì™€ ìˆ˜ìµë¥ ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const annualIncome = saleMonthlyRent * 12;
            const properPrice = (annualIncome / (saleYield / 100)) + saleDeposit;
            document.getElementById('properPrice').textContent = Math.round(properPrice).toLocaleString() + 'ì›';
            document.getElementById('properPriceResult').classList.add('show');
        }

        function resetProperPrice() {
            document.getElementById('saleDeposit').value = '';
            document.getElementById('saleMonthlyRent').value = '';
            document.getElementById('saleYield').value = '5';
            document.getElementById('saleYieldType').value = 'custom';
            document.getElementById('saleYield').readOnly = false;
            document.getElementById('properPriceResult').classList.remove('show');
        }
    </script>
</body>
</html>
